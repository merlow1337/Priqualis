# Priqualis Configuration
# Copy this file to .env and fill in values

# =============================================================================
# General
# =============================================================================
PRIQUALIS_ENV=development
LOG_LEVEL=DEBUG

# =============================================================================
# Data paths
# =============================================================================
DATA_RAW_PATH=./data/raw
DATA_PROCESSED_PATH=./data/processed
RULES_CONFIG_PATH=./config/rules

# =============================================================================
# Database (DuckDB)
# =============================================================================
DUCKDB_PATH=./data/priqualis.duckdb

# =============================================================================
# Vector Store (Qdrant)
# =============================================================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=claims_embeddings

# =============================================================================
# Embeddings
# =============================================================================
EMBEDDING_MODEL=intfloat/multilingual-e5-small
EMBEDDING_BATCH_SIZE=32
EMBEDDING_DEVICE=cpu

# =============================================================================
# Search
# =============================================================================
BM25_K1=1.5
BM25_B=0.75
HYBRID_ALPHA=0.5
SEARCH_TOP_K=50
RERANK_ENABLED=false

# =============================================================================
# API
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000

# =============================================================================
# UI (Streamlit)
# =============================================================================
STREAMLIT_PORT=8501

# =============================================================================
# Scoring Weights
# =============================================================================
SCORING_ERROR_REJECTION_RISK=0.9
SCORING_WARNING_REJECTION_RISK=0.3
SCORING_AUTOFIX_COST=0.2
SCORING_MANUAL_FIX_COST=1.0
SCORING_TARIFF_BASELINE=5000.0

# =============================================================================
# Hybrid Search Parameters
# =============================================================================
RRF_K=60
HYBRID_BM25_CANDIDATES=200
HYBRID_VECTOR_CANDIDATES=50

# =============================================================================
# Vector Store (HNSW)
# =============================================================================
HNSW_M=16
HNSW_EF_CONSTRUCT=100
VECTOR_UPSERT_BATCH_SIZE=100
VECTOR_DEFAULT_DIMENSION=384

# =============================================================================
# LLM Explainer
# =============================================================================
LLM_MODEL=gpt-4o-mini
LLM_MAX_TOKENS=300
LLM_TEMPERATURE=0.3
LLM_LANGUAGE=pl

# =============================================================================
# FPA Tracking
# =============================================================================
FPA_DEFAULT_PERIOD_DAYS=30
FPA_TREND_WINDOW=7
FPA_TOP_REASONS_LIMIT=5

# =============================================================================
# AutoFix
# =============================================================================
AUTOFIX_SAFE_CONFIDENCE_THRESHOLD=0.8
AUTOFIX_BASE_CONFIDENCE=0.5

# =============================================================================
# API Metadata
# =============================================================================
API_VERSION=0.1.0
API_TITLE=Priqualis API
CORS_ALLOW_ORIGINS=*